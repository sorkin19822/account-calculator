# Тестовые кейсы для калькулятора оптимального распределения средств по счетам

## Исходные данные для тестирования

| л/с | абонплата | баланс | статус |
|-----|-----------|--------|---------|
| 715044 | 200 | -50 | Основной |
| 71504401 | 150 | 100 | Дополнительный |
| 71504402 | 100 | -100 | Дополнительный |
| 71504403 | 0 | 50 | Заморожен |
| 71504404 | 150 | 150 | Дополнительный |

## Группа 1: Пополнение основного счета (715044)

### Кейс 1.1: Минимальное пополнение основного счета
**Шаги:**
1. Выберите основной счет 715044
2. Введите сумму пополнения: 100
3. Нажмите рассчитать

**Ожидаемый результат:**
- Зачислено на 715044: 100
- Итоговый баланс 715044: 50 (было -50)
- Остальные счета без изменений

### Кейс 1.2: Пополнение с покрытием основного счета до положительного
**Шаги:**
1. Выберите основной счет 715044
2. Введите сумму пополнения: 300
3. Нажмите рассчитать

**Ожидаемый результат:**
- Зачислено на 715044: 250 (до достижения абонплаты 200)
- Зачислено на 71504402: 50 (покрытие отрицательного баланса)
- Итоговый баланс 715044: 200
- Итоговый баланс 71504402: -50 (было -100)

### Кейс 1.3: Полное распределение с избытком
**Шаги:**
1. Выберите "Основной счет (с распределением)"
2. Введите сумма пополнения: 1000
3. Нажмите рассчитать

**Ожидаемый результат:**
- 715044: зачислено 900 (250 до абонплаты + 650 остатка), итог 850
- 71504402: зачислено 100 (покрытие отрицательного баланса), итог 0
- 71504401: зачислено 0, итог 100 (уже положительный баланс)
- 71504404: зачислено 0, итог 150 (уже положительный баланс)
- 71504403: зачислено 0, итог 50 (заморожен)

## Группа 2: Пополнение дополнительных счетов

### Кейс 2.1: Пополнение положительного дополнительного счета
**Шаги:**
1. Выберите счет 71504401
2. Введите сумму пополнения: 200
3. Нажмите рассчитать

**Ожидаемый результат:**
- Зачислено на 71504401: 200
- Итоговый баланс 71504401: 300 (было 100)
- Остальные счета без изменений

### Кейс 2.2: Пополнение отрицательного дополнительного счета
**Шаги:**
1. Выберите счет 71504402
2. Введите сумму пополнения: 150
3. Нажмите рассчитать

**Ожидаемый результат:**
- Зачислено на 71504402: 150
- Итоговый баланс 71504402: 50 (было -100)
- Остальные счета без изменений

### Кейс 2.3: Пополнение замороженного счета
**Шаги:**
1. Выберите счет "71504403 (Заморожен)"
2. Введите сумму пополнения: 100
3. Нажмите рассчитать

**Ожидаемый результат:**
- Зачислено на 71504403: 100
- Итоговый баланс 71504403: 150 (было 50)
- Остальные счета без изменений

## Группа 3: Проверка приоритета и логики распределения

### Кейс 3.1: Точное покрытие абонплаты основного счета
**Шаги:**
1. Выберите основной счет 715044
2. Введите сумму пополнения: 250
3. Нажмите рассчитать

**Ожидаемый результат:**
- Зачислено на 715044: 250
- Итоговый баланс 715044: 200 (ровно абонплата)
- Остальные счета без изменений

### Кейс 3.2: Проверка очередности при распределении
**Шаги:**
1. Измените баланс счета 71504401 на -200
2. Измените баланс счета 71504404 на -50
3. Выберите основной счет 715044
4. Введите сумму пополнения: 600
5. Нажмите рассчитать

**Ожидаемый результат:**
- 715044: покрытие до абонплаты (250), итог 200
- 71504402: покрытие отрицательного баланса (100), итог 0
- 71504401: частичное покрытие (200), итог 0
- 71504404: частичное покрытие (50), итог 0
- Остаток средств остается на 715044

## Группа 4: Граничные случаи и валидация

### Кейс 4.1: Нулевая сумма пополнения
**Шаги:**
1. Введите сумму пополнения: 0
2. Нажмите рассчитать

**Ожидаемый результат:**
- Должно появиться сообщение об ошибке
- Никакие балансы не должны измениться

### Кейс 4.2: Отрицательная сумма пополнения
**Шаги:**
1. Введите сумму пополнения: -100
2. Нажмите рассчитать

**Ожидаемый результат:**
- Должно появиться сообщение об ошибке
- Никакие балансы не должны измениться

### Кейс 4.3: Очень большая сумма пополнения
**Шаги:**
1. Выберите основной счет 715044
2. Введите сумму пополнения: 1000000
3. Нажмите рассчитать

**Ожидаемый результат:**
- Все отрицательные счета должны быть покрыты
- Избыток должен остаться на основном счете

## Группа 5: Изменение параметров счетов

### Кейс 5.1: Изменение абонплаты основного счета
**Шаги:**
1. Измените абонплату счета 715044 с 200 на 300
2. Введите сумму пополнения: 400
3. Выберите основной счет 715044
4. Нажмите рассчитать

**Ожидаемый результат:**
- Расчет должен учитывать новую абонплату 300
- Зачислено на 715044: 350 (до достижения новой абонплаты)
- Остаток распределяется по другим счетам

### Кейс 5.2: Изменение баланса счета во время работы
**Шаги:**
1. Измените баланс счета 71504402 с -100 на 200
2. Выберите основной счет 715044
3. Введите сумму пополнения: 500
4. Нажмите рассчитать

**Ожидаемый результат:**
- Счет 71504402 не должен получить дополнительных средств (баланс положительный)
- Распределение должно происходить по другим счетам

## Группа 6: Проверка интерфейса

### Кейс 6.1: Корректность отображения таблицы
**Шаги:**
1. Откройте калькулятор
2. Проверьте все колонки таблицы

**Ожидаемый результат:**
- Должны отображаться колонки: л/с, абонплата, баланс, зачислено, итог
- Поле "сумма пополнения" должно быть доступно для ввода
- Все поля абонплаты и баланса должны быть редактируемыми

### Кейс 6.2: Сброс расчетов
**Шаги:**
1. Выполните любой расчет
2. Найдите кнопку сброса или очистки
3. Нажмите ее

**Ожидаемый результат:**
- Колонки "зачислено" и "итог" должны сброситься
- Исходные балансы должны восстановиться

## Инструкции по тестированию

1. **Подготовка:** Убедитесь, что проект запущен и доступен в браузере
2. **Последовательность:** Выполняйте кейсы в указанном порядке
3. **Сброс данных:** После каждого кейса возвращайте исходные значения
4. **Документирование:** Отмечайте найденные баги и несоответствия
5. **Дополнительно:** Попробуйте комбинации разных сценариев

## Критерии успешного прохождения

- ✅ Корректное распределение при пополнении основного счета
- ✅ Правильная работа с дополнительными счетами
- ✅ Учет статуса "заморожен" для счета 71504403
- ✅ Валидация ввода данных
- ✅ Корректное отображение результатов в таблице
- ✅ Возможность изменения параметров счетов